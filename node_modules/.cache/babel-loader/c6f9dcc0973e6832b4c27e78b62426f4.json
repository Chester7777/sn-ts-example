{"ast":null,"code":"import _objectSpread from\"C:/React/reactProject/sn-ts-example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"C:/React/reactProject/sn-ts-example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _classCallCheck from\"C:/React/reactProject/sn-ts-example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/React/reactProject/sn-ts-example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/React/reactProject/sn-ts-example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/React/reactProject/sn-ts-example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Redirect}from\"react-router-dom\";import{connect}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";var mapStateToPropsForRedirect=function mapStateToPropsForRedirect(state){return{isAuth:state.auth.isAuth};};export function withAuthRedirect(Component){var RedirectComponent=/*#__PURE__*/function(_React$Component){_inherits(RedirectComponent,_React$Component);var _super=_createSuper(RedirectComponent);function RedirectComponent(){_classCallCheck(this,RedirectComponent);return _super.apply(this,arguments);}_createClass(RedirectComponent,[{key:\"render\",value:function render(){var _this$props=this.props,isAuth=_this$props.isAuth,restProps=_objectWithoutProperties(_this$props,[\"isAuth\"]);if(isAuth!==true)return/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});//можно так\n// if(!this.props.isAuth) return  <Redirect to=\"/login\" />\nreturn/*#__PURE__*/_jsx(Component,_objectSpread({},restProps));}}]);return RedirectComponent;}(React.Component);var ConnectedAuthRedirectComponent=connect(mapStateToPropsForRedirect)(RedirectComponent);return ConnectedAuthRedirectComponent;}","map":{"version":3,"sources":["C:/React/reactProject/sn-ts-example/src/Components/HOC/WithAuthRedirect.tsx"],"names":["React","Redirect","connect","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","props","restProps","ConnectedAuthRedirectComponent"],"mappings":"+5BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,QAAR,KAAuB,kBAAvB,CAEA,OAAQC,OAAR,KAAsB,aAAtB,C,2CAKA,GAAIC,CAAAA,0BAA0B,CAAG,QAA7BA,CAAAA,0BAA6B,CAACC,KAAD,QAAkD,CAC/EC,MAAM,CAAED,KAAK,CAACE,IAAN,CAAWD,MAD4D,CAAlD,EAAjC,CAGA,MAAO,SAASE,CAAAA,gBAAT,CAA+BC,SAA/B,CAAkE,IAC/DC,CAAAA,iBAD+D,gSAEjE,iBAAS,CACL,gBAA6B,KAAKC,KAAlC,CAAKL,MAAL,aAAKA,MAAL,CAAgBM,SAAhB,kDACA,GAAIN,MAAM,GAAK,IAAf,CAAqB,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAAP,CACrB;AACA;AACA,mBAAO,KAAC,SAAD,kBAAeM,SAAf,EAAP,CACH,CARgE,+BACrCX,KAAK,CAACQ,SAD+B,EAWrE,GAAII,CAAAA,8BAA8B,CAAGV,OAAO,CAACC,0BAAD,CAAP,CAAqCM,iBAArC,CAArC,CAEA,MAAOG,CAAAA,8BAAP,CACH","sourcesContent":["import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AllAppStateType} from \"../../redux/Redux-store\";\r\nimport {connect} from \"react-redux\";\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n}\r\nlet mapStateToPropsForRedirect = (state: AllAppStateType): MapStateToPropsType => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\nexport function withAuthRedirect  <T>(Component: React.ComponentType<T>) {\r\n    class RedirectComponent extends React.Component<MapStateToPropsType> {\r\n        render() {\r\n            let {isAuth, ...restProps} = this.props\r\n            if (isAuth !== true) return <Redirect to=\"/login\"/>\r\n            //можно так\r\n            // if(!this.props.isAuth) return  <Redirect to=\"/login\" />\r\n            return <Component {...restProps as T} />\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect) (RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent\r\n}"]},"metadata":{},"sourceType":"module"}