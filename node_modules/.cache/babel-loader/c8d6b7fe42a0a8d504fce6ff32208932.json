{"ast":null,"code":"import React from\"react\";import s from\"./Users.module.css\";import userPhoto from\"../../asseds/images/user.png\";import{NavLink}from\"react-router-dom\";import{Paginator}from\"../Common/Paginator/Paginator\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Users=function Users(props){var pageCount=Math.ceil(props.totalItemsCount/props.pageSize);var pages=[];for(var i=1;i<=pageCount;i++){pages.push(i);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Paginator,{currentPage:props.currentPage,onPageChanged:props.onPageChanged,totalItemsCount:props.totalItemsCount,pageSize:props.portionSize,portionSize:props.portionSize}),props.users.map(function(u){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"./profile/\"+u.id,children:/*#__PURE__*/_jsx(\"img\",{src:u.photos.small!=null?u.photos.small:userPhoto,className:s.userPhoto})})}),/*#__PURE__*/_jsx(\"div\",{children:u.followed?/*#__PURE__*/_jsx(\"button\",{disabled:props.followingInProgress.some(function(id){return id===u.id;}),onClick:function onClick(){props.unfollow(u.id);},children:\"unfollow\"}):/*#__PURE__*/_jsx(\"button\",{disabled:props.followingInProgress.some(function(id){return id===u.id;}),onClick:function onClick(){props.follow(u.id);},children:\"follow\"})})]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"div\",{children:u.name}),/*#__PURE__*/_jsx(\"div\",{children:u.status})]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"div\",{children:\"u.location.country\"}),/*#__PURE__*/_jsx(\"div\",{children:\"u.location.citi\"})]})]})]},u.id);})]});};export default Users;","map":{"version":3,"sources":["C:/React/reactProject/sn-ts-example/src/Components/Users/Users.tsx"],"names":["React","s","userPhoto","NavLink","Paginator","Users","props","pageCount","Math","ceil","totalItemsCount","pageSize","pages","i","push","currentPage","onPageChanged","portionSize","users","map","u","id","photos","small","followed","followingInProgress","some","unfollow","follow","name","status"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,CAAP,KAAc,oBAAd,CAEA,MAAOC,CAAAA,SAAP,KAAsB,8BAAtB,CACA,OAAQC,OAAR,KAAsB,kBAAtB,CACA,OAAQC,SAAR,KAAwB,+BAAxB,C,wFAsBA,GAAIC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,KAAD,CAAsB,CAC9B,GAAIC,CAAAA,SAAS,CAAGC,IAAI,CAACC,IAAL,CAAUH,KAAK,CAACI,eAAN,CAAwBJ,KAAK,CAACK,QAAxC,CAAhB,CAEA,GAAIC,CAAAA,KAAK,CAAG,EAAZ,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,EAAIN,SAArB,CAAgCM,CAAC,EAAjC,CAAqC,CACjCD,KAAK,CAACE,IAAN,CAAWD,CAAX,EACH,CAED,mBAAO,oCACH,KAAC,SAAD,EAAW,WAAW,CAAEP,KAAK,CAACS,WAA9B,CACA,aAAa,CAAET,KAAK,CAACU,aADrB,CAEA,eAAe,CAAEV,KAAK,CAACI,eAFvB,CAGA,QAAQ,CAAEJ,KAAK,CAACW,WAHhB,CAIA,WAAW,CAAEX,KAAK,CAACW,WAJnB,EADG,CAkBCX,KAAK,CAACY,KAAN,CAAYC,GAAZ,CAAgB,SAACC,CAAD,CAAkB,CAC1B,mBAAO,oCACP,qCACI,kCACI,KAAC,OAAD,EAAS,EAAE,CAAE,aAAeA,CAAC,CAACC,EAA9B,uBACA,YAAK,GAAG,CAAED,CAAC,CAACE,MAAF,CAASC,KAAT,EAAkB,IAAlB,CAAyBH,CAAC,CAACE,MAAF,CAASC,KAAlC,CAA0CrB,SAApD,CAA+D,SAAS,CAAED,CAAC,CAACC,SAA5E,EADA,EADJ,EADJ,cAMI,qBACKkB,CAAC,CAACI,QAAF,cACG,eAAQ,QAAQ,CAAElB,KAAK,CAACmB,mBAAN,CAA0BC,IAA1B,CAA+B,SAAAL,EAAE,QAAIA,CAAAA,EAAE,GAAKD,CAAC,CAACC,EAAb,EAAjC,CAAlB,CAAqE,OAAO,CAAE,kBAAM,CAChFf,KAAK,CAACqB,QAAN,CAAeP,CAAC,CAACC,EAAjB,EAEH,CAHD,sBADH,cAKK,eAAQ,QAAQ,CAAEf,KAAK,CAACmB,mBAAN,CAA0BC,IAA1B,CAA+B,SAAAL,EAAE,QAAIA,CAAAA,EAAE,GAAKD,CAAC,CAACC,EAAb,EAAjC,CAAlB,CAAqE,OAAO,CAAE,kBAAM,CAClFf,KAAK,CAACsB,MAAN,CAAaR,CAAC,CAACC,EAAf,EACH,CAFC,oBANV,EANJ,GADO,cAmBH,qCACA,qCACI,qBACKD,CAAC,CAACS,IADP,EADJ,cAII,qBACKT,CAAC,CAACU,MADP,EAJJ,GADA,cASA,qCACI,qBACK,oBADL,EADJ,cAII,qBACK,iBADL,EAJJ,GATA,GAnBG,GAAUV,CAAC,CAACC,EAAZ,CAAP,CAsCH,CAvCL,CAlBD,GAAP,CA6DH,CArED,CAuEA,cAAehB,CAAAA,KAAf","sourcesContent":["import React from \"react\";\r\nimport s from \"./Users.module.css\";\r\nimport {UsersType} from \"../../redux/users-reducer\";\r\nimport userPhoto from \"../../asseds/images/user.png\";\r\nimport {NavLink} from \"react-router-dom\"\r\nimport {Paginator} from \"../Common/Paginator/Paginator\";\r\n\r\n\r\ntype PropsType = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    users: Array<UsersType>\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    portionSize: number\r\n    // setIsFollowingProgress: (isFetching: boolean, userId: number) => void\r\n    followingInProgress: Array<number>\r\n    // resultCode: number\r\n}\r\ntype PostPropsType = {\r\n    id: number\r\n    resultCode: number\r\n}\r\n\r\n\r\nlet Users = (props: PropsType) => {\r\n    let pageCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    return <div>\r\n        <Paginator currentPage={props.currentPage}\r\n        onPageChanged={props.onPageChanged}\r\n        totalItemsCount={props.totalItemsCount}\r\n        pageSize={props.portionSize}\r\n        portionSize={props.portionSize}/>\r\n        {/*<div>*/}\r\n        {/*    {pages.map(p => {*/}\r\n        {/*        return <span*/}\r\n        {/*            key={p}*/}\r\n        {/*            className={props.currentPage === p ? s.selectedPage : \"\"}*/}\r\n        {/*            onClick={(e) => props.onPageChanged(p)}*/}\r\n        {/*        >{p}</span>*/}\r\n        {/*    })}*/}\r\n        {/*</div>*/}\r\n        {/*использовал до componentDidMount*/}\r\n        {/*<button onClick={this.props.getUsers}>get users</button>*/}\r\n        {\r\n            props.users.map((u: UsersType) => {\r\n                    return <div key={u.id}>\r\n                    <span>\r\n                        <div>\r\n                            <NavLink to={\"./profile/\" + u.id}>\r\n                            <img src={u.photos.small != null ? u.photos.small : userPhoto} className={s.userPhoto}/>\r\n                            </NavLink>\r\n                        </div>\r\n                        <div>\r\n                            {u.followed ?\r\n                                <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\r\n                                    props.unfollow(u.id)\r\n\r\n                                }}>unfollow</button>\r\n                                : <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\r\n                                    props.follow(u.id)\r\n                                }}>follow</button>\r\n                            }\r\n                        </div>\r\n                    </span>\r\n                        <span>\r\n                        <span>\r\n                            <div>\r\n                                {u.name}\r\n                            </div>\r\n                            <div>\r\n                                {u.status}\r\n                            </div>\r\n                        </span>\r\n                        <span>\r\n                            <div>\r\n                                {\"u.location.country\"}\r\n                            </div>\r\n                            <div>\r\n                                {\"u.location.citi\"}\r\n                            </div>\r\n                        </span>\r\n                    </span>\r\n                    </div>\r\n                }\r\n            )\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default Users;"]},"metadata":{},"sourceType":"module"}