{"ast":null,"code":"import _classCallCheck from\"C:/React/reactProject/sn-ts-example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/React/reactProject/sn-ts-example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/React/reactProject/sn-ts-example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/React/reactProject/sn-ts-example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{lazy}from\"react\";import{BrowserRouter,Redirect,Route,Switch}from\"react-router-dom\";import\"./App.css\";import Music from\"./Components/Music/Music\";import Navbar from\"./Components/Navbar/Navbar\";import News from\"./Components/News/news\";import Setting from\"./Components/Setting/Setting\";import UsersContainer from\"./Components/Users/UsersContainer\";import HeaderContainer from\"./Components/Header/HeaderContainer\";import Login from\"./Components/Login/Login\";import{connect,Provider}from\"react-redux\";import{compose}from\"redux\";import store from\"./redux/Redux-store\";import Preloader from\"./Components/Common/Preloader/Preloader\";import{initializeApp}from\"./redux/app-reducer\";import{WithSuspense}from\"./Components/HOC/WithSuspense\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DialogsContainer=/*#__PURE__*/lazy(function(){return import(\"./Components/Dialogs/DialogsContainer\");});var ProfileContainer=/*#__PURE__*/lazy(function(){return import(\"./Components/Profile/ProfileContainer\");});var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){_classCallCheck(this,App);return _super.apply(this,arguments);}_createClass(App,[{key:\"catchAllUnhandledErrors\",value:function catchAllUnhandledErrors(promiseRejectionEvent){alert(\"Some error occured\");}},{key:\"componentDidMount\",value:function componentDidMount(){this.props.initializeApp();window.addEventListener(\"unhandledRejection\",this.catchAllUnhandledErrors);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener(\"unhandledRejection\",this.catchAllUnhandledErrors);}},{key:\"render\",value:function render(){if(!this.props.initialized){return/*#__PURE__*/_jsx(Preloader,{});}return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"app-wrapper\",children:[/*#__PURE__*/_jsx(HeaderContainer,{}),/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"app-wrapper-content\",children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",render:function render(){return/*#__PURE__*/_jsx(Redirect,{to:\"/profile\"});}}),/*#__PURE__*/_jsx(Route,{path:\"/dialogs\",render:WithSuspense(DialogsContainer)}),/*#__PURE__*/_jsx(Route,{path:\"/profile/:userId?\",render:WithSuspense(ProfileContainer)}),/*#__PURE__*/_jsx(Route,{path:\"/news\",render:function render(){return/*#__PURE__*/_jsx(News,{});}}),/*#__PURE__*/_jsx(Route,{path:\"/music\",render:function render(){return/*#__PURE__*/_jsx(Music,{});}}),/*#__PURE__*/_jsx(Route,{path:\"/settings\",render:function render(){return/*#__PURE__*/_jsx(Setting,{});}}),/*#__PURE__*/_jsx(Route,{path:\"/users\",render:function render(){return/*#__PURE__*/_jsx(UsersContainer,{});}}),/*#__PURE__*/_jsx(Route,{path:\"/login\",render:function render(){return/*#__PURE__*/_jsx(Login,{});}}),/*#__PURE__*/_jsx(Route,{path:\"*\",render:function render(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"404 NOT FOUND\"})});}})]})})]})});}}]);return App;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{initialized:state.app.initialized};};// const mapDispatchToProps = (state: AllAppStateType) => ({\n//     getAuthUserData:\n// })\nvar AppContainer=compose(connect(mapStateToProps,{initializeApp:initializeApp}))(App);export var MainAppContainer=function MainAppContainer(){// обернули APP что бы наши страницы переключались без перезагрузки\nreturn/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsx(Provider,{store:store,children:/*#__PURE__*/_jsx(AppContainer,{})})});};","map":{"version":3,"sources":["C:/React/reactProject/sn-ts-example/src/App.tsx"],"names":["React","lazy","BrowserRouter","Redirect","Route","Switch","Music","Navbar","News","Setting","UsersContainer","HeaderContainer","Login","connect","Provider","compose","store","Preloader","initializeApp","WithSuspense","DialogsContainer","ProfileContainer","App","promiseRejectionEvent","alert","props","window","addEventListener","catchAllUnhandledErrors","removeEventListener","initialized","Component","mapStateToProps","state","app","AppContainer","MainAppContainer"],"mappings":"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","sourcesContent":["import React, {lazy} from \"react\";\nimport {BrowserRouter, Redirect, Route, Switch} from \"react-router-dom\";\nimport \"./App.css\";\nimport Music from \"./Components/Music/Music\";\nimport Navbar from \"./Components/Navbar/Navbar\";\nimport News from \"./Components/News/news\";\nimport Setting from \"./Components/Setting/Setting\";\nimport UsersContainer from \"./Components/Users/UsersContainer\";\nimport HeaderContainer from \"./Components/Header/HeaderContainer\"\nimport Login from \"./Components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport store, {AllAppStateType} from \"./redux/Redux-store\";\nimport Preloader from \"./Components/Common/Preloader/Preloader\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport {WithSuspense} from \"./Components/HOC/WithSuspense\";\n\nconst DialogsContainer = lazy(() => import(\"./Components/Dialogs/DialogsContainer\"));\nconst ProfileContainer = lazy(() => import(\"./Components/Profile/ProfileContainer\"));\n\n\ntype AppType = {\n    initializeApp: () => void\n    initialized: boolean\n}\n\nclass App extends React.Component<AppType> {\n\n    catchAllUnhandledErrors(promiseRejectionEvent: any) {\n        alert(\"Some error occured\")\n    }\n\n    componentDidMount() {\n        this.props.initializeApp();\n        window.addEventListener(\"unhandledRejection\", this.catchAllUnhandledErrors);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener(\"unhandledRejection\", this.catchAllUnhandledErrors);\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <BrowserRouter>\n                <div className=\"app-wrapper\">\n                    <HeaderContainer/>\n                    <Navbar/>\n                    <div className=\"app-wrapper-content\">\n                        <Switch>\n                            {/*Route - реактовская компонента, которая при совпадении с ее path позовет колбэк находящийся в ней*/}\n                            <Route exact path=\"/\" render={() => <Redirect to={\"/profile\"}/>}/>\n                            <Route path=\"/dialogs\" render={WithSuspense(DialogsContainer)}/>\n                            <Route path=\"/profile/:userId?\" render={WithSuspense(ProfileContainer)}/>\n                            <Route path=\"/news\" render={() => <News/>}/>\n                            <Route path=\"/music\" render={() => <Music/>}/>\n                            <Route path=\"/settings\" render={() => <Setting/>}/>\n                            <Route path=\"/users\" render={() => <UsersContainer/>}/>\n                            <Route path=\"/login\" render={() => <Login/>}/>\n                            <Route path=\"*\" render={() => <div><b>404 NOT FOUND</b></div>}/>\n                        </Switch>\n                    </div>\n                </div>\n            </BrowserRouter>\n        )\n    }\n}\n\nconst mapStateToProps = (state: AllAppStateType) => ({\n    initialized: state.app.initialized\n})\n// const mapDispatchToProps = (state: AllAppStateType) => ({\n//     getAuthUserData:\n// })\n\nlet AppContainer = compose(\n    connect(mapStateToProps, {initializeApp}))(App);\n\nexport let MainAppContainer = () => {\n\n    // обернули APP что бы наши страницы переключались без перезагрузки\n    return <React.StrictMode>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </React.StrictMode>\n}"]},"metadata":{},"sourceType":"module"}