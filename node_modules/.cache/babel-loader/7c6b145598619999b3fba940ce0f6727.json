{"ast":null,"code":"import _slicedToArray from\"C:/React/reactProject/sn-ts-example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import s from\"./ProfileInfo.module.css\";import ProfileStatus from\"./ProfileStatus\";import userPhoto from\"../../../asseds/images/user.png\";import ProfileDataForm from\"./ProfileDataForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfileInfo=function ProfileInfo(props){var _props$profile$photos;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editMode=_useState2[0],setEditMode=_useState2[1];var onMainPhotoSelected=function onMainPhotoSelected(e){var _e$target$files;if((_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files.length){props.savePhoto(e.target.files[0]);}};var onSubmit=function onSubmit(formData){debugger;props.saveProfile(formData).then(function(){setEditMode(false);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:s.image,children:/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn.pixabay.com/photo/2016/10/21/09/29/earth-1757617__480.jpg\",className:s.image_backgraund})}),/*#__PURE__*/_jsxs(\"div\",{className:s.description,children:[/*#__PURE__*/_jsx(\"img\",{className:s.mainPhoto,src:((_props$profile$photos=props.profile.photos)===null||_props$profile$photos===void 0?void 0:_props$profile$photos.large)||userPhoto}),props.isOwner&&/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:onMainPhotoSelected}),editMode?/*#__PURE__*/_jsx(ProfileDataForm,{initialValues:props.profile,profile:props.profile,onSubmit:onSubmit}):/*#__PURE__*/_jsx(ProfileData,{goToEditMode:function goToEditMode(){return setEditMode(true);},profile:props.profile,isOwner:props.isOwner}),/*#__PURE__*/_jsx(ProfileStatus,{status:props.status,updateStatus:props.updateStatus})]})]});};var ProfileData=function ProfileData(_ref){var profile=_ref.profile,goToEditMode=_ref.goToEditMode,isOwner=_ref.isOwner;debugger;return/*#__PURE__*/_jsxs(\"div\",{children:[isOwner&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:goToEditMode,children:\"edit\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Full name:\"}),\" \",profile.fullName]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Looking for a job:\"}),\" \",profile.lookingForAJob?\"yes\":\"no\"]}),profile.lookingForAJob&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"My professional skills:\"}),\" \",profile.lookingForAJobDescription?\"yes\":\"no\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"About me:\"}),\" \",profile.aboutMe]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Contacts:\"}),\" \",profile.contacts&&Object.keys(profile.contacts).map(function(key){return/*#__PURE__*/_jsx(Contact,{contactTitle:key,contactValue:profile.contacts[key]},key);})]})]});};export var Contact=function Contact(_ref2){var contactTitle=_ref2.contactTitle,contactValue=_ref2.contactValue;return/*#__PURE__*/_jsxs(\"div\",{className:s.contact,children:[/*#__PURE__*/_jsxs(\"b\",{children:[contactTitle,\":\"]}),\" \",contactValue]});};export default ProfileInfo;","map":{"version":3,"sources":["C:/React/reactProject/sn-ts-example/src/Components/Profile/ProfileInfo/ProfileInfo.tsx"],"names":["React","useState","s","ProfileStatus","userPhoto","ProfileDataForm","ProfileInfo","props","editMode","setEditMode","onMainPhotoSelected","e","target","files","length","savePhoto","onSubmit","formData","saveProfile","then","image","image_backgraund","description","mainPhoto","profile","photos","large","isOwner","status","updateStatus","ProfileData","goToEditMode","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contacts","Object","keys","map","key","Contact","contactTitle","contactValue","contact"],"mappings":"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","sourcesContent":["import React, {ChangeEvent, useState} from \"react\";\r\nimport s from \"./ProfileInfo.module.css\"\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport {ProfilePropsType} from \"../../../redux/profilePage-reducer\";\r\nimport ProfileStatus from \"./ProfileStatus\";\r\nimport userPhoto from \"../../../asseds/images/user.png\"\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\n\r\ntype ProfileInfoPropsType = {\r\n    profile: ProfilePropsType\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    isOwner: boolean\r\n    savePhoto: (filePhoto: any) => void\r\n    lookingForAJob: boolean\r\n    saveProfile: (formData: any) => Promise<void>\r\n    goToEditMode: () => void\r\n    // contacts: ContactsType\r\n    // lookingForAJobDescription: string\r\n    // aboutMe: string\r\n}\r\n\r\nconst ProfileInfo = (props: ProfileInfoPropsType) => {\r\n\r\n    const [editMode, setEditMode] = useState<boolean>(false);\r\n\r\n\r\n\r\n    const onMainPhotoSelected = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files?.length) {\r\n            props.savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    const onSubmit = (formData: any) => {\r\n        debugger\r\n        props.saveProfile(formData).then(() => {\r\n            setEditMode(false);\r\n        })\r\n    }\r\n    return (\r\n        <div>\r\n            <div className={s.image}>\r\n                <img\r\n                    src=\"https://cdn.pixabay.com/photo/2016/10/21/09/29/earth-1757617__480.jpg\"\r\n                    className={s.image_backgraund}/>\r\n            </div>\r\n            <div className={s.description}>\r\n                <img className={s.mainPhoto} src={props.profile.photos?.large || userPhoto}/>\r\n                {props.isOwner && <input type=\"file\" onChange={onMainPhotoSelected}/>}\r\n                {editMode\r\n                    ? <ProfileDataForm initialValues={props.profile} profile={props.profile} onSubmit={onSubmit}/>\r\n                    : <ProfileData goToEditMode={() => setEditMode(true)} profile={props.profile}\r\n                                   isOwner={props.isOwner}/>}\r\n                <ProfileStatus status={props.status} updateStatus={props.updateStatus}/>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\ntype ProfileDataType  = {\r\n    profile: any, isOwner: boolean, goToEditMode: () => void\r\n}\r\n\r\nconst ProfileData = ({profile, goToEditMode, isOwner}: ProfileDataType) => {\r\ndebugger\r\n    return (\r\n        <div>\r\n            {isOwner &&\r\n            <div>\r\n                <button onClick={goToEditMode}>edit</button>\r\n            </div>}\r\n            <div>\r\n                <b>Full name:</b> {profile.fullName}\r\n            </div>\r\n            <div>\r\n                <b>Looking for a job:</b> {profile.lookingForAJob ? \"yes\" : \"no\"}\r\n            </div>\r\n            {profile.lookingForAJob &&\r\n            <div>\r\n                <b>My professional skills:</b> {profile.lookingForAJobDescription ? \"yes\" : \"no\"}\r\n            </div>}\r\n            <div>\r\n                <b>About me:</b> {profile.aboutMe}\r\n            </div>\r\n            <div>\r\n                <b>Contacts:</b> {profile.contacts &&\r\n            Object.keys(profile.contacts).map((key) => {\r\n                return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>\r\n            })}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\ntype ContactType = {\r\n    contactTitle: string\r\n    contactValue: string | null\r\n}\r\nexport const Contact = ({contactTitle, contactValue}: ContactType) => {\r\n\r\n    return <div className={s.contact}><b>{contactTitle}:</b> {contactValue}</div>\r\n}\r\n\r\nexport default ProfileInfo;"]},"metadata":{},"sourceType":"module"}